<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>杉木遗传信息管理系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- jQuery UI -->
    <link href="https://code.jquery.com/ui/1.10.3/themes/redmond/jquery-ui.css" rel="stylesheet" media="screen">

    <!-- Bootstrap -->
    <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- styles -->
    <link href="/static/css/styles.css" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    {% load static %}
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>

    <![endif]-->
</head>
<body>
<div class="header">
    <div class="container">
        <div class="row">
            <div class="col-md-5">
                <!-- Logo -->
                <div class="logo">
                    <h1><a href="index.html">杉木遗传信息管理系统</a></h1>
                </div>
            </div>
            <div class="col-md-5">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="input-group form">
                            <input type="text" class="form-control" placeholder="Search...">
                            <span class="input-group-btn">
	                         <button class="btn btn-primary" type="button">搜索</button>
	                       </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="navbar navbar-inverse" role="banner">
                    <nav class="collapse navbar-collapse bs-navbar-collapse navbar-right" role="navigation">
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">个人信息<b class="caret"></b></a>
                                <ul class="dropdown-menu animated fadeInUp">
<!--                                    <li><a href="profile.html">Profile</a></li>-->
                                    <li><a href="/login">Logout</a></li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="row">
        <div class="col-md-2">
            <div class="sidebar content-box" style="display: block;">
                <ul class="nav">
                    <!-- Main menu -->
<!--                    <li><a href="index.html"><i class="glyphicon glyphicon-home"></i>首页</a></li>-->
                    <li><a href="/germ_list"><i class="glyphicon glyphicon-list"></i> 育种资源清单管理</a></li>
                    <li><a href="/image_list"><i class="glyphicon glyphicon-camera"></i> 图片上传</a></li>
                    <li class="submenu">
                        <a href="#">
                            <i class="glyphicon glyphicon-record"></i> 谱系信息管理
                            <span class="caret pull-right"></span>
                        </a>
                        <!-- Sub menu -->
                        <ul>
                            <li><a href="/pedigree_list">谱系成员管理</a></li>
                            <li><a href="/excel_to_network">excel生成网络谱系图</a></li>
                        </ul>
                    </li>
                    <li><a href="/test_tree_list"><i class="glyphicon glyphicon-tree-conifer"></i> 遗传测定林信息管理</a></li>
                    <li class="submenu">
                        <a href="#">
                            <i class="glyphicon glyphicon-pencil"></i> 辅助决策分析
                            <span class="caret pull-right"></span>
                        </a>
                        <!-- Sub menu -->
                        <ul>
                            <li class="current"><a href="/evaluate_germ">可视化资源简介</a></li>
                            <li><a href="/analysis_germ">主成分分析</a></li>
                            <li><a href="/estimate_plantation">育种值分析</a></li>

                        </ul>
                    </li>
                    <li><a href="/file_list"><i class="glyphicon glyphicon-file"></i> 文件管理</a></li>
                    <li class="submenu">
                        <a href="#">
                            <i class="glyphicon glyphicon-list"></i> 系统设置
                            <span class="caret pull-right"></span>
                        </a>
                        <!-- Sub menu -->
                        <ul>
                            <li><a href="/login">Login</a></li>
                            <li><a href="/signup">Signup</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col-md-10">
            <div class="content-box-large">
                <div class="panel-heading"></div>
                    <div class="panel-body">
                    <div class="col-md-12">
                        <div id="main" style="width: 1050px;height:500px;"></div>
                    </div>
                    <div class="col-md-4">
                        <div class="panel-heading"></div>
                        <div class="panel-body">
                            <div id="main1" style="width: 400px;height:500px;"></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="panel-heading"></div>
                        <div class="panel-body">
                            <div id="main2" style="width: 400px;height:500px;"></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="panel-heading"></div>
                        <div class="panel-body">
                            <div id="rose" style="width: 400px;height:500px;"></div>
                        </div>
                    </div>
                        <div class="col-md-4">
                        <div class="panel-heading"></div>
                        <div class="panel-body">
                            <div id="Line_p" style="width: 400px;height:500px;"></div>
                        </div>
                    </div>
                    </div>
            </div>
        </div>
    </div>
</div>
        {% block js %}
        <script src="{% static 'js/echarts.js' %}"></script>
        <script type="text/javascript">
            var chartDom = document.getElementById('main1');
var myChart = echarts.init(chartDom);
var option;
var data=[];
{% for cone in cone %}
data.push({
            value: {{cone.count}},
            name: "{{cone.cone_type}}"
            })
{% endfor %}
var option = {
  tooltip: {
    trigger: 'item'
  },
  legend: {
    top: '5%',
    left: 'center'
  },
  series: [
    {
      name: 'Access From',
      type: 'pie',
      radius: ['40%', '70%'],
      avoidLabelOverlap: false,
      itemStyle: {
        borderRadius: 10,
        borderColor: '#fff',
        borderWidth: 2
      },
      label: {
        show: false,
        position: 'center'
      },
      emphasis: {
        label: {
          show: true,
          fontSize: 40,
          fontWeight: 'bold'
        }
      },
      labelLine: {
        show: false
      },
      data: data
    }
  ]
};

option && myChart.setOption(option);
        </script>

        <script type="text/javascript">
var chartDom = document.getElementById('main');
var myChart = echarts.init(chartDom);
var option;
var height_data = [];
var xAxis_data = [];
var dbh_data=[];
            {% for germplasm in Germ %}
                height_data.push({{ germplasm.total_height }})
                xAxis_data.push("{{ germplasm.germ_id}}")
                dbh_data.push("{{ germplasm.diameter_at_breast_height}}")
            {% endfor %}
option = {
  title: {
    text: '树高-胸径柱状图',
    left: 10
  },
  legend: {
    data: ['Height', 'Diameter at breast height']
  },
  toolbox: {
    feature: {
      dataView: { show: true, readOnly: false },
      magicType: { show: true, type: ['line', 'bar'] },
      restore: { show: true },
      saveAsImage: { show: true }
    }
  },
  tooltip: {
    trigger: 'axis',
    axisPointer: {
      type: 'shadow'
    }
  },
  dataZoom: [
    {
      type: 'inside'
    },
    {
      type: 'slider'
    }
  ],
  xAxis: {
    data: xAxis_data,
    silent: false,
    splitLine: {
      show: false
    },
    splitArea: {
      show: false
    }
  },
  yAxis: [
    {
      type: 'value',
      name: 'Height',
      min: 0,
      max: 180,
      interval: 20,
      axisLabel: {
        formatter: '{value} m'
      }
    },
    {
      type: 'value',
      name: 'Diameter at breast height',
      min: 0,
      max: 180,
      interval: 20,
      axisLabel: {
        formatter: '{value} cm'
      }
    }
  ],
  series: [
    {
      name:'Height',
      type: 'bar',
      tooltip: {
        valueFormatter: function (value) {
          return value + 'm';
        }
      },
      data: height_data,
      // Set `large` for large data amount
      large: true
    },
    {
      name:'Diameter at breast height',
      type: 'bar',
      tooltip: {
        valueFormatter: function (value) {
          return value + 'cm';
        }
      },
      data: dbh_data,
      // Set `large` for large data amount
      large: true
    }
  ]
};
option && myChart.setOption(option);

        </script>
        <script type="text/javascript">
var chartDom = document.getElementById('main2');
var myChart = echarts.init(chartDom);
var option;
var data_bract=[];
        {% for bract in bract %}
data_bract.push({
            value: {{bract.count}},
            name: "{{bract.cone_bract_scale_shape}}"
            })
{% endfor %}
option = {
  tooltip: {
    trigger: 'item'
  },
  legend: {
    top: '5%',
    left: 'center'
  },
  series: [
    {
      name: 'Access From',
      type: 'pie',
      radius: ['40%', '70%'],
      avoidLabelOverlap: false,
      itemStyle: {
        borderRadius: 10,
        borderColor: '#fff',
        borderWidth: 2
      },
      label: {
        show: false,
        position: 'center'
      },
      emphasis: {
        label: {
          show: true,
          fontSize: 40,
          fontWeight: 'bold'
        }
      },
      labelLine: {
        show: false
      },
      data: data_bract
    }
  ]
};
option && myChart.setOption(option);
    </script>
        <script type="text/javascript">
var chartDom = document.getElementById('rose');
var myChart = echarts.init(chartDom);
var option;
var data_split=[];
{% for split in split %}
data_split.push({
            value: {{split.count}},
            name: "{{split.the_split_of_bracts_and_scales_in_immature_cones}}"
            })
{% endfor %}
option = {
  tooltip: {
    trigger: 'item'
  },
  legend: {
    top: '5%',
    left: 'center'
  },
  series: [
    {
      name: 'Access From',
      type: 'pie',
      radius: ['40%', '70%'],
      avoidLabelOverlap: false,
      itemStyle: {
        borderRadius: 10,
        borderColor: '#fff',
        borderWidth: 2
      },
      label: {
        show: false,
        position: 'center'
      },
      emphasis: {
        label: {
          show: true,
          fontSize: 40,
          fontWeight: 'bold'
        }
      },
      labelLine: {
        show: false
      },
      data: data_split
    }
  ]
};
option && myChart.setOption(option);
    </script>
        <script type="text/javasricpt">
var chartDom = document.getElementById('Line_p');
var myChart = echarts.init(chartDom);
var option;
var height_data = [];
var xAxis_data = [];
var dbh_data=[];
            {% for plant in plantation %}
                height_data.push({{ plant.Height }})
                xAxis_data.push("{{ plant.p_id}}")
                dbh_data.push("{{ plant.dbh}}")
            {% endfor %}
option = {
  title: {
    text: '遗传测定林信息柱状图',
    left: 10
  },
  legend: {
    data: ['Height', 'Diameter at breast height','volume_of_wood']
  },
  toolbox: {
    feature: {
      dataView: { show: true, readOnly: false },
      magicType: { show: true, type: ['line', 'bar'] },
      restore: { show: true },
      saveAsImage: { show: true }
    }
  },
  tooltip: {
    trigger: 'axis',
    axisPointer: {
      type: 'shadow'
    }
  },
  dataZoom: [
    {
      type: 'inside'
    },
    {
      type: 'slider'
    }
  ],
  xAxis: {
    data: xAxis_data,
    silent: false,
    splitLine: {
      show: false
    },
    splitArea: {
      show: false
    }
  },
  yAxis: [
    {
      type: 'value',
      name: 'Height',
      min: 0,
      max: 180,
      interval: 20,
      axisLabel: {
        formatter: '{value} m'
      }
    },
    {
      type: 'value',
      name: 'Diameter at breast height',
      min: 0,
      max: 180,
      interval: 20,
      axisLabel: {
        formatter: '{value} cm'
      }
    },
    ,
    {
      type: 'value',
      name: 'Volume of wood',
      min: 0,
      max: 180,
      interval: 20,
      axisLabel: {
        formatter: '{value} cm'
      }
  ],
  series: [
    {
      name:'Height',
      type: 'bar',
      tooltip: {
        valueFormatter: function (value) {
          return value + 'm';
        }
      },
      data: height_data,
      // Set `large` for large data amount
      large: true
    },
    {
      name:'Diameter at breast height',
      type: 'bar',
      tooltip: {
        valueFormatter: function (value) {
          return value + 'cm';
        }
      },
      data: dbh_data,
      // Set `large` for large data amount
      large: true
    }
  ]
};
option && myChart.setOption(option);
        </script>
        {% endblock %}

<footer>
    <div class="container">

        <div class="copy text-center">
            copyright 2022 数量遗传与林木（杉木）育种团队<br>Quantitative Genetics and Tree Breeding<a href='#'>Website</a>
        </div>

    </div>
</footer>

<link href="/static/vendors/datatables/dataTables.bootstrap.css" rel="stylesheet" media="screen">

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://code.jquery.com/jquery.js"></script>
<!-- jQuery UI -->
<script src="https://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/static/bootstrap/js/bootstrap.min.js"></script>
<script src="/static/vendors/datatables/js/jquery.dataTables.min.js"></script>
<script src="/static/vendors/datatables/dataTables.bootstrap.js"></script>
<script src="/static/js/custom.js"></script>
<script src="/static/js/tables.js"></script>
</body>
</html>